/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./build/ts/ast.js":
/*!*************************!*\
  !*** ./build/ts/ast.js ***!
  \*************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Literal = exports.UnaryExpr = exports.UnaryOperator = exports.BinaryExpr = exports.BinaryOperator = exports.Expr = exports.AST = void 0;\nclass AST {\n}\nexports.AST = AST;\nclass Expr extends AST {\n}\nexports.Expr = Expr;\nvar BinaryOperator;\n(function (BinaryOperator) {\n    BinaryOperator[BinaryOperator[\"Plus\"] = 0] = \"Plus\";\n    BinaryOperator[BinaryOperator[\"Minus\"] = 1] = \"Minus\";\n    BinaryOperator[BinaryOperator[\"Star\"] = 2] = \"Star\";\n    BinaryOperator[BinaryOperator[\"Slash\"] = 3] = \"Slash\";\n    BinaryOperator[BinaryOperator[\"Less\"] = 4] = \"Less\";\n    BinaryOperator[BinaryOperator[\"Equal\"] = 5] = \"Equal\";\n    BinaryOperator[BinaryOperator[\"Greater\"] = 6] = \"Greater\";\n    BinaryOperator[BinaryOperator[\"Bang\"] = 7] = \"Bang\";\n    BinaryOperator[BinaryOperator[\"LessEqual\"] = 8] = \"LessEqual\";\n    BinaryOperator[BinaryOperator[\"EqualEqual\"] = 9] = \"EqualEqual\";\n    BinaryOperator[BinaryOperator[\"GreaterEqual\"] = 10] = \"GreaterEqual\";\n    BinaryOperator[BinaryOperator[\"BangEqual\"] = 11] = \"BangEqual\";\n})(BinaryOperator = exports.BinaryOperator || (exports.BinaryOperator = {}));\nclass BinaryExpr extends Expr {\n    constructor(left, right, op) {\n        super();\n        this.left = left;\n        this.right = right;\n        this.op = op;\n    }\n}\nexports.BinaryExpr = BinaryExpr;\nvar UnaryOperator;\n(function (UnaryOperator) {\n    UnaryOperator[UnaryOperator[\"Minus\"] = 0] = \"Minus\";\n    UnaryOperator[UnaryOperator[\"Bang\"] = 1] = \"Bang\";\n})(UnaryOperator = exports.UnaryOperator || (exports.UnaryOperator = {}));\nclass UnaryExpr extends Expr {\n    constructor(operator, operand) {\n        super();\n        this.operator = operator;\n        this.operand = operand;\n    }\n}\nexports.UnaryExpr = UnaryExpr;\nclass Literal extends Expr {\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n}\nexports.Literal = Literal;\n\n\n//# sourceURL=webpack://thing/./build/ts/ast.js?");

/***/ }),

/***/ "./build/ts/diagnostics.js":
/*!*********************************!*\
  !*** ./build/ts/diagnostics.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.report = exports.clear = exports.Diagnostic = exports.Located = exports.Span = void 0;\nconst errors_div = document.getElementById('errors');\nclass Span {\n    constructor(source, start, end) {\n        this.source = source;\n        this.start = start;\n        this.end = end;\n        [this.start_line, this.start_column] = get_linecol(source, start);\n        [this.end_line, this.end_column] = get_linecol(source, end);\n    }\n}\nexports.Span = Span;\nfunction get_linecol(source, ind) {\n    let line = (source.substring(0, ind).match(/^/mg) || []).length;\n    let lines = source.substring(0, ind).match(/^.+/mg);\n    if (lines) {\n        return [line, lines[lines.length - 1].length + 1];\n    }\n    else {\n        return [line, 0];\n    }\n}\nclass Located {\n    constructor(thing, span) {\n        this.thing = thing;\n        this.span = span;\n    }\n}\nexports.Located = Located;\nclass Diagnostic {\n    constructor(message, explanation) {\n        this.message = message;\n        this.explanation = explanation;\n    }\n}\nexports.Diagnostic = Diagnostic;\nfunction clear() {\n    while (errors_div.lastChild) {\n        errors_div.removeChild(errors_div.lastChild);\n    }\n}\nexports.clear = clear;\nfunction report(diagnostic) {\n    let div = document.createElement('div');\n    div.className = 'error';\n    {\n        let heading = document.createElement('p');\n        heading.className = 'error_heading';\n        heading.innerHTML = `error at ${diagnostic.span.start_line}:${diagnostic.span.start_column}: ${diagnostic.thing.message}`;\n        div.appendChild(heading);\n    }\n    {\n        function make_line_view(source, nr, highlight_start_col, highlight_end_col) {\n            let line_view = document.createElement('div');\n            line_view.className = 'error_line_view';\n            let line_number = document.createElement('p');\n            line_number.innerHTML = nr.toString();\n            line_number.className = 'error_linenumber';\n            let pre = document.createElement('pre');\n            let code = document.createElement('code');\n            pre.className = 'error_pre';\n            code.className = 'error_code';\n            if (highlight_start_col == null || highlight_end_col == null) {\n                code.innerHTML = source[nr - 1];\n            }\n            else {\n                let line_contents = source[nr - 1];\n                let start = highlight_start_col - 1;\n                let end = highlight_end_col == -1 ? line_contents.length : highlight_end_col - 1;\n                code.innerHTML = `${line_contents.substring(0, start)}<strong>${line_contents.substring(start, end)}</strong>${line_contents.substring(end)}`;\n            }\n            line_view.appendChild(line_number);\n            pre.appendChild(code);\n            line_view.appendChild(pre);\n            return line_view;\n        }\n        let view = document.createElement('div');\n        view.className = 'error_view';\n        let source_lines = diagnostic.span.source.split('\\n');\n        for (let i = diagnostic.span.start_line; i <= diagnostic.span.end_line; ++i) {\n            let highlight_start_col = diagnostic.span.start_line == i ? diagnostic.span.start_column :\n                diagnostic.span.start_line < i ? 0 : null;\n            let highlight_end_col = diagnostic.span.end_line == i ? diagnostic.span.end_column :\n                diagnostic.span.end_line < i ? null : -1;\n            view.appendChild(make_line_view(source_lines, i, highlight_start_col, highlight_end_col));\n        }\n        div.appendChild(view);\n    }\n    if (diagnostic.thing.explanation) {\n        let explanation = document.createElement('p');\n        explanation.className = 'error_explanation';\n        explanation.innerHTML = diagnostic.thing.explanation;\n        div.appendChild(explanation);\n    }\n    errors_div.appendChild(div);\n}\nexports.report = report;\n\n\n//# sourceURL=webpack://thing/./build/ts/diagnostics.js?");

/***/ }),

/***/ "./build/ts/lexer.js":
/*!***************************!*\
  !*** ./build/ts/lexer.js ***!
  \***************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.lex = exports.EOF = exports.BoolLiteral = exports.NumberLiteral = exports.StringLiteral = exports.Identifier = exports.While = exports.Var = exports.This = exports.Super = exports.Return = exports.Print = exports.Or = exports.Nil = exports.If = exports.Fun = exports.For = exports.Else = exports.Class = exports.And = exports.BangEqual = exports.GreaterEqual = exports.EqualEqual = exports.LessEqual = exports.Bang = exports.Greater = exports.Equal = exports.Less = exports.Semicolon = exports.CBrace = exports.OBrace = exports.Slash = exports.Star = exports.Minus = exports.Plus = exports.Dot = exports.Comma = exports.CParen = exports.OParen = exports.Token = void 0;\nconst diagnostics = __importStar(__webpack_require__(/*! ./diagnostics */ \"./build/ts/diagnostics.js\"));\nclass Token {\n}\nexports.Token = Token;\nclass OParen extends Token {\n    type() { return \"'('\"; }\n}\nexports.OParen = OParen;\nclass CParen extends Token {\n    type() { return \"')'\"; }\n}\nexports.CParen = CParen;\nclass Comma extends Token {\n    type() { return \"','\"; }\n}\nexports.Comma = Comma;\nclass Dot extends Token {\n    type() { return \"'.'\"; }\n}\nexports.Dot = Dot;\nclass Plus extends Token {\n    type() { return \"'+'\"; }\n}\nexports.Plus = Plus;\nclass Minus extends Token {\n    type() { return \"'-'\"; }\n}\nexports.Minus = Minus;\nclass Star extends Token {\n    type() { return \"'*'\"; }\n}\nexports.Star = Star;\nclass Slash extends Token {\n    type() { return \"'/'\"; }\n}\nexports.Slash = Slash;\nclass OBrace extends Token {\n    type() { return \"'{'\"; }\n}\nexports.OBrace = OBrace;\nclass CBrace extends Token {\n    type() { return \"'}'\"; }\n}\nexports.CBrace = CBrace;\nclass Semicolon extends Token {\n    type() { return \"';'\"; }\n}\nexports.Semicolon = Semicolon;\nclass Less extends Token {\n    type() { return \"'<'\"; }\n}\nexports.Less = Less;\nclass Equal extends Token {\n    type() { return \"'='\"; }\n}\nexports.Equal = Equal;\nclass Greater extends Token {\n    type() { return \"'>'\"; }\n}\nexports.Greater = Greater;\nclass Bang extends Token {\n    type() { return \"'!'\"; }\n}\nexports.Bang = Bang;\nclass LessEqual extends Token {\n    type() { return \"'<='\"; }\n}\nexports.LessEqual = LessEqual;\nclass EqualEqual extends Token {\n    type() { return \"'=='\"; }\n}\nexports.EqualEqual = EqualEqual;\nclass GreaterEqual extends Token {\n    type() { return \"'>='\"; }\n}\nexports.GreaterEqual = GreaterEqual;\nclass BangEqual extends Token {\n    type() { return \"'!='\"; }\n}\nexports.BangEqual = BangEqual;\nclass And extends Token {\n    type() { return \"'and'\"; }\n}\nexports.And = And;\nclass Class extends Token {\n    type() { return \"'class'\"; }\n}\nexports.Class = Class;\nclass Else extends Token {\n    type() { return \"'else'\"; }\n}\nexports.Else = Else;\nclass For extends Token {\n    type() { return \"'for'\"; }\n}\nexports.For = For;\nclass Fun extends Token {\n    type() { return \"'fun'\"; }\n}\nexports.Fun = Fun;\nclass If extends Token {\n    type() { return \"'if'\"; }\n}\nexports.If = If;\nclass Nil extends Token {\n    type() { return \"'nil'\"; }\n}\nexports.Nil = Nil;\nclass Or extends Token {\n    type() { return \"'or'\"; }\n}\nexports.Or = Or;\nclass Print extends Token {\n    type() { return \"'print'\"; }\n}\nexports.Print = Print;\nclass Return extends Token {\n    type() { return \"'return'\"; }\n}\nexports.Return = Return;\nclass Super extends Token {\n    type() { return \"'super'\"; }\n}\nexports.Super = Super;\nclass This extends Token {\n    type() { return \"'this'\"; }\n}\nexports.This = This;\nclass Var extends Token {\n    type() { return \"'var'\"; }\n}\nexports.Var = Var;\nclass While extends Token {\n    type() { return \"'while'\"; }\n}\nexports.While = While;\nclass Identifier extends Token {\n    constructor(name) {\n        super();\n        this.name = name;\n    }\n    type() { return \"identifier\"; }\n}\nexports.Identifier = Identifier;\nclass StringLiteral extends Token {\n    constructor(str) {\n        super();\n        this.str = str;\n    }\n    type() { return \"string literal\"; }\n}\nexports.StringLiteral = StringLiteral;\nclass NumberLiteral extends Token {\n    constructor(num) {\n        super();\n        this.num = num;\n    }\n    type() { return \"number literal\"; }\n}\nexports.NumberLiteral = NumberLiteral;\nclass BoolLiteral extends Token {\n    constructor(bool) {\n        super();\n        this.bool = bool;\n    }\n    type() { return \"bool literal\"; }\n}\nexports.BoolLiteral = BoolLiteral;\nclass EOF extends Token {\n    type() { return \"eof\"; }\n}\nexports.EOF = EOF;\nclass BadCharacter extends diagnostics.Diagnostic {\n    constructor(ch) {\n        super(`bad character: ${ch}`, null);\n        this.ch = ch;\n    }\n}\nclass UnterminatedString extends diagnostics.Diagnostic {\n    constructor() { super(\"unterminated string\", null); }\n}\nclass Lexer {\n    constructor(source) {\n        this.source = source;\n        this.source = source;\n        this.ind = 0;\n    }\n    lex() {\n        let tokens = [];\n        while (!this.at_end()) {\n            let tok_start = this.ind;\n            let tok = this.lex_single_token(tok_start);\n            let tok_end = this.ind;\n            if (tok != null) {\n                tokens.push(new diagnostics.Located(tok, new diagnostics.Span(this.source, tok_start, tok_end)));\n            }\n        }\n        let eof = new diagnostics.Located(new EOF(), this.span(this.ind));\n        return [tokens, eof];\n    }\n    lex_single_token(start_ind) {\n        let c = this.advance();\n        if (c == null) {\n            return null;\n        }\n        switch (c) {\n            case '(': return new OParen();\n            case ')': return new CParen();\n            case ',': return new Comma();\n            case '.': return new Dot();\n            case '+': return new Plus();\n            case '-': return new Minus();\n            case '*': return new Star();\n            case '/':\n                if (this.match('/')) {\n                    while (!this.at_end() && this.peek() != '\\n') {\n                        this.advance();\n                    }\n                    ;\n                    return null;\n                }\n                else {\n                    return new Slash();\n                }\n            case '{': return new OBrace();\n            case '}': return new CBrace();\n            case ';': return new Semicolon();\n            case ' ':\n            case '\\n':\n            case '\\r':\n            case '\\t':\n                return null;\n            case '!': return this.match('=') ? new BangEqual() : new Bang();\n            case '=': return this.match('=') ? new EqualEqual() : new Equal();\n            case '<': return this.match('=') ? new LessEqual() : new Less();\n            case '>': return this.match('=') ? new GreaterEqual() : new Greater();\n            case '\"': return this.string(start_ind);\n            default:\n                if (this.is_digit(c)) {\n                    return this.number();\n                }\n                else if (this.is_alpha(c)) {\n                    return this.identifier();\n                }\n                else {\n                    diagnostics.report(new diagnostics.Located(new BadCharacter(c), this.span(start_ind)));\n                    return null;\n                }\n        }\n    }\n    string(start_ind) {\n        let lit_start = this.ind;\n        while (!this.at_end() && this.peek() != '\"') {\n            this.advance();\n        }\n        if (this.at_end()) {\n            diagnostics.report(new diagnostics.Located(new UnterminatedString(), this.span(start_ind)));\n            return null;\n        }\n        let lit_end = this.ind;\n        this.advance();\n        let value = this.source.substring(lit_start, lit_end);\n        return new StringLiteral(value);\n    }\n    number() {\n        let start = this.ind - 1;\n        while (this.is_digit_(this.peek())) {\n            this.advance();\n        }\n        if (this.peek() == '.' && this.is_digit_(this.double_peek())) {\n            this.advance();\n            while (this.is_digit_(this.peek()))\n                this.advance();\n        }\n        return new NumberLiteral(parseFloat(this.source.substring(start, this.ind)));\n    }\n    identifier() {\n        let start = this.ind - 1;\n        while (this.is_alphanumeric_(this.peek())) {\n            this.advance();\n        }\n        let str = this.source.substring(start, this.ind);\n        switch (str) {\n            case \"and\": return new And();\n            case \"class\": return new Class();\n            case \"else\": return new Else();\n            case \"false\": return new BoolLiteral(false);\n            case \"for\": return new For();\n            case \"fun\": return new Fun();\n            case \"if\": return new If();\n            case \"nil\": return new Nil();\n            case \"or\": return new Or();\n            case \"print\": return new Print();\n            case \"return\": return new Return();\n            case \"super\": return new Super();\n            case \"this\": return new This();\n            case \"true\": return new BoolLiteral(true);\n            case \"var\": return new Var();\n            case \"while\": return new While();\n            default: return new Identifier(str);\n        }\n    }\n    is_digit(x) {\n        return /\\d/.test(x);\n    }\n    is_digit_(x) {\n        if (x == null) {\n            return false;\n        }\n        return /\\d/.test(x);\n    }\n    is_alpha(x) {\n        return /[a-zA-Z]/.test(x);\n    }\n    is_alphanumeric(x) {\n        return this.is_digit(x) || this.is_alpha(x);\n    }\n    is_alphanumeric_(x) {\n        if (x == null) {\n            return false;\n        }\n        return this.is_digit(x) || this.is_alpha(x);\n    }\n    at_end() {\n        return this.ind >= this.source.length;\n    }\n    peek() {\n        if (this.at_end()) {\n            return null;\n        }\n        else {\n            return this.source[this.ind];\n        }\n    }\n    double_peek() {\n        if (this.ind + 1 >= this.source.length) {\n            return null;\n        }\n        else {\n            return this.source[this.ind + 1];\n        }\n    }\n    advance() {\n        if (this.at_end()) {\n            return null;\n        }\n        else {\n            return this.source[this.ind++];\n        }\n    }\n    match(x) {\n        if (this.peek() == x) {\n            this.advance();\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    span(start) {\n        return new diagnostics.Span(this.source, start, this.ind);\n    }\n}\nfunction lex(input) {\n    return new Lexer(input).lex();\n}\nexports.lex = lex;\n\n\n//# sourceURL=webpack://thing/./build/ts/lexer.js?");

/***/ }),

/***/ "./build/ts/main.js":
/*!**************************!*\
  !*** ./build/ts/main.js ***!
  \**************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst diagnostics = __importStar(__webpack_require__(/*! ./diagnostics */ \"./build/ts/diagnostics.js\"));\nconst lexer = __importStar(__webpack_require__(/*! ./lexer */ \"./build/ts/lexer.js\"));\nconst parser = __importStar(__webpack_require__(/*! ./parser */ \"./build/ts/parser.js\"));\nlet editor = ace.edit(\"codeeditor\");\neditor.setOption(\"printMarginColumn\", false);\ndocument.getElementById('submitbutton').addEventListener('click', function () {\n    let inputcodebox = document.getElementById('inputcodebox');\n    let input = editor.getValue();\n    diagnostics.clear();\n    let result = parser.parse(lexer.lex(input));\n    console.log(result);\n});\n\n\n//# sourceURL=webpack://thing/./build/ts/main.js?");

/***/ }),

/***/ "./build/ts/parser.js":
/*!****************************!*\
  !*** ./build/ts/parser.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.parse = void 0;\nconst diagnostics = __importStar(__webpack_require__(/*! ./diagnostics */ \"./build/ts/diagnostics.js\"));\nconst ast = __importStar(__webpack_require__(/*! ./ast */ \"./build/ts/ast.js\"));\nconst peg = __importStar(__webpack_require__(/*! ./peg */ \"./build/ts/peg.js\"));\nlet declaration = undefined;\nfunction astify_binary_expr([comp, ops]) {\n    let cur;\n    while (cur = ops.shift()) {\n        let [op, right] = cur;\n        let op_ast;\n        switch (op.type()) {\n            case \"'+'\":\n                op_ast = ast.BinaryOperator.Plus;\n                break;\n            case \"'-'\":\n                op_ast = ast.BinaryOperator.Minus;\n                break;\n            case \"'*'\":\n                op_ast = ast.BinaryOperator.Star;\n                break;\n            case \"'/'\":\n                op_ast = ast.BinaryOperator.Slash;\n                break;\n            case \"'<'\":\n                op_ast = ast.BinaryOperator.Less;\n                break;\n            case \"'='\":\n                op_ast = ast.BinaryOperator.Equal;\n                break;\n            case \"'>'\":\n                op_ast = ast.BinaryOperator.Greater;\n                break;\n            case \"'!'\":\n                op_ast = ast.BinaryOperator.Bang;\n                break;\n            case \"'<='\":\n                op_ast = ast.BinaryOperator.LessEqual;\n                break;\n            case \"'=='\":\n                op_ast = ast.BinaryOperator.EqualEqual;\n                break;\n            case \"'>='\":\n                op_ast = ast.BinaryOperator.GreaterEqual;\n                break;\n            case \"'!='\":\n                op_ast = ast.BinaryOperator.BangEqual;\n                break;\n            default: throw Error('unreachable');\n        }\n        comp = new ast.BinaryExpr(comp, right, op_ast);\n    }\n    return comp;\n}\n// hack for recursive expressions\nlet equality;\n// function expression(): peg.PEG<ast.Expr> { return equality; }\nlet expression = () => equality;\nlet primary = new peg.Choice(new peg.Choice(new peg.Choice(new peg.Choice(new peg.Map(tok => new ast.Literal(tok.bool), new peg.Token('bool literal')), new peg.Map(tok => new ast.Literal(tok.num), new peg.Token('number literal'))), new peg.Map(tok => new ast.Literal(tok.str), new peg.Token('string literal'))), new peg.Map(tok => new ast.Literal(null), new peg.Token(\"'nil'\"))), new peg.Map(([[oparen, expr], cparen]) => expr, new peg.Chain(new peg.Chain(new peg.Token(\"'('\"), expression()), new peg.Token(\"')'\"))));\nlet unary = new peg.Choice(new peg.Map(([ops, expr]) => {\n    let op;\n    while (op = ops.shift()) {\n        let op_ast;\n        switch (op.type()) {\n            case \"'-'\":\n                op_ast = ast.UnaryOperator.Minus;\n                break;\n            case \"'!'\":\n                op_ast = ast.UnaryOperator.Bang;\n                break;\n            default: throw Error('unreachable');\n        }\n        expr = new ast.UnaryExpr(op_ast, expr);\n    }\n    return expr;\n}, new peg.Chain(new peg.OneMore(new peg.Choice(new peg.Token(\"'-'\"), new peg.Token(\"'!'\"))), primary)), primary);\nlet factor = new peg.Map(astify_binary_expr, new peg.Chain(unary, new peg.ZeroMore(new peg.Chain(new peg.Choice(new peg.Token(\"'*'\"), new peg.Token(\"'/'\")), unary))));\nlet term = new peg.Map(astify_binary_expr, new peg.Chain(factor, new peg.ZeroMore(new peg.Chain(new peg.Choice(new peg.Token(\"'+'\"), new peg.Token(\"'-'\")), factor))));\nlet comparison = new peg.Map(astify_binary_expr, new peg.Chain(term, new peg.ZeroMore(new peg.Chain(new peg.Choice(new peg.Choice(new peg.Choice(new peg.Token(\"'<'\"), new peg.Token(\"'<='\")), new peg.Token(\"'>'\")), new peg.Token(\"'>='\")), term))));\nequality =\n    new peg.Map(astify_binary_expr, new peg.Chain(comparison, new peg.ZeroMore(new peg.Chain(new peg.Choice(new peg.Token(\"'=='\"), new peg.Token(\"'!='\")), comparison))));\nlet script = new peg.Chain(expression(), new peg.Token(\"eof\")); //new peg.ZeroMore(declaration);\nfunction parse([tokens, eof]) {\n    let parser = new peg.Parser(tokens, eof, 0);\n    return script.parse(parser).cata({\n        Ok: ([_, [expr, eof]]) => expr,\n        Err: (errs) => {\n            let e = errs.reduce((max, err) => err.thing.ind > max.thing.ind ? err : max, errs[0]);\n            diagnostics.report(e);\n            return null;\n        }\n    });\n}\nexports.parse = parse;\n\n\n//# sourceURL=webpack://thing/./build/ts/parser.js?");

/***/ }),

/***/ "./build/ts/peg.js":
/*!*************************!*\
  !*** ./build/ts/peg.js ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Map = exports.OneMore = exports.ZeroMore = exports.Choice = exports.Chain = exports.Token = exports.PEG = exports.Expected = exports.ParseError = exports.Parser = void 0;\nconst diagnostics = __importStar(__webpack_require__(/*! ./diagnostics */ \"./build/ts/diagnostics.js\"));\nconst pratica = __importStar(__webpack_require__(/*! pratica */ \"./node_modules/pratica/dist/index.js\"));\nclass Parser {\n    constructor(tokens, eof, ind) {\n        this.tokens = tokens;\n        this.eof = eof;\n        this.ind = ind;\n    }\n    advance() {\n        return new Parser(this.tokens, this.eof, this.ind + 1);\n    }\n    cur_tok() {\n        if (this.ind >= this.tokens.length) {\n            return this.eof;\n        }\n        else {\n            return this.tokens[this.ind];\n        }\n    }\n}\nexports.Parser = Parser;\nclass ParseError extends diagnostics.Diagnostic {\n    constructor(parser, message, explanation) {\n        super(message, explanation);\n        this.ind = parser.ind;\n    }\n}\nexports.ParseError = ParseError;\nclass Expected extends ParseError {\n    constructor(parser, expect, got) {\n        super(parser, `expected ${expect}, got ${got.type()}`, null);\n        this.expect = expect;\n        this.got = got;\n    }\n}\nexports.Expected = Expected;\nclass PEG {\n}\nexports.PEG = PEG;\nclass Token extends PEG {\n    constructor(type) {\n        super();\n        this.type = type;\n    }\n    parse(parser) {\n        let t = parser.cur_tok();\n        if (t.thing.type() == this.type) {\n            return pratica.Ok([parser.advance(), t.thing]);\n        }\n        else {\n            return pratica.Err([new diagnostics.Located(new Expected(parser, this.type, t.thing), t.span)]);\n        }\n    }\n}\nexports.Token = Token;\nclass Chain extends PEG {\n    constructor(a, b) {\n        super();\n        this.a = a;\n        this.b = b;\n    }\n    parse(parser) {\n        return (this.a.parse(parser).chain(([parser_, a_res]) => this.b.parse(parser_).chain(([parser__, b_res]) => pratica.Ok([parser__, [a_res, b_res]]))));\n    }\n}\nexports.Chain = Chain;\nclass Choice extends PEG {\n    constructor(a, b) {\n        super();\n        this.a = a;\n        this.b = b;\n    }\n    parse(parser) {\n        let a_res = this.a.parse(parser);\n        return this.a.parse(parser).cata({\n            Ok: x => pratica.Ok(x),\n            Err: a_e => this.b.parse(parser).cata({\n                Ok: x => pratica.Ok(x),\n                Err: b_e => pratica.Err(a_e.concat(b_e)),\n            }),\n        });\n    }\n}\nexports.Choice = Choice;\nclass ZeroMore extends PEG {\n    constructor(a) {\n        super();\n        this.a = a;\n    }\n    parse(parser) {\n        let items = [];\n        while (true) {\n            let res = this.a.parse(parser);\n            let res_as_ok = res.toMaybe().value();\n            if (res_as_ok) {\n                let [parser_, item] = res_as_ok;\n                parser = parser_;\n                items.push(item);\n            }\n            else {\n                return pratica.Ok([parser, items]);\n            }\n        }\n    }\n}\nexports.ZeroMore = ZeroMore;\nclass OneMore extends PEG {\n    constructor(a) {\n        super();\n        this.a = a;\n    }\n    parse(parser) {\n        return this.a.parse(parser).chain(([parser_, first_item]) => new ZeroMore(this.a).parse(parser_).map(([parser__, more_items]) => [parser__, [first_item].concat(more_items)]));\n    }\n}\nexports.OneMore = OneMore;\nclass Map extends PEG {\n    constructor(op, a) {\n        super();\n        this.op = op;\n        this.a = a;\n    }\n    parse(parser) {\n        return this.a.parse(parser).map(([parser_, a]) => [parser_, this.op(a)]);\n    }\n}\nexports.Map = Map;\n\n\n//# sourceURL=webpack://thing/./build/ts/peg.js?");

/***/ }),

/***/ "./node_modules/pratica/dist/index.js":
/*!********************************************!*\
  !*** ./node_modules/pratica/dist/index.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar _Ok = function (arg) { return ({\r\n    ap: function (r) { return typeof arg === 'function' ? r.map(function (x) { return arg(x); }) : Err(); },\r\n    map: function (cb) { return _Ok(cb(arg)); },\r\n    mapErr: function () { return _Ok(arg); },\r\n    chain: function (cb) { return cb(arg); },\r\n    chainErr: function () { return _Ok(arg); },\r\n    swap: function () { return _Err(arg); },\r\n    bimap: function (ok, _) { return _Ok(ok(arg)); },\r\n    cata: function (obj) { return obj.Ok(arg); },\r\n    toMaybe: function () { return nullable(arg); },\r\n    inspect: function () { return \"Ok(\" + arg + \")\"; },\r\n    isErr: function () { return false; },\r\n    isOk: function () { return true; }\r\n}); };\r\nvar _Err = function (arg) { return ({\r\n    ap: function () { return _Err(arg); },\r\n    map: function () { return _Err(arg); },\r\n    mapErr: function (cb) { return _Err(cb(arg)); },\r\n    chain: function () { return _Err(arg); },\r\n    chainErr: function (cb) { return cb(arg); },\r\n    swap: function () { return _Ok(arg); },\r\n    bimap: function (_, err) { return _Err(err(arg)); },\r\n    cata: function (obj) { return obj.Err(arg); },\r\n    toMaybe: function () { return Nothing; },\r\n    inspect: function () { return \"Err(\" + arg + \")\"; },\r\n    isErr: function () { return true; },\r\n    isOk: function () { return false; }\r\n}); };\r\nfunction Ok(arg) {\r\n    return _Ok(arg);\r\n}\r\nfunction Err(arg) {\r\n    return _Err(arg);\r\n}\n\nvar Just = function (arg) { return ({\r\n    ap: function (m) { return typeof arg === 'function' ? m.map(function (v) { return arg(v); }) : Nothing; },\r\n    map: function (cb) { return Just(cb(arg)); },\r\n    chain: function (cb) { return cb(arg); },\r\n    alt: function () { return Just(arg); },\r\n    cata: function (obj) { return obj.Just(arg); },\r\n    toResult: function () { return Ok(arg); },\r\n    inspect: function () { return \"Just(\" + arg + \")\"; },\r\n    isNothing: function () { return false; },\r\n    isJust: function () { return true; },\r\n    value: function () { return arg; }\r\n}); };\r\nvar Nothing = ({\r\n    ap: function () { return Nothing; },\r\n    map: function () { return Nothing; },\r\n    chain: function () { return Nothing; },\r\n    alt: function (a) { return Just(a); },\r\n    cata: function (obj) { return obj.Nothing(); },\r\n    toResult: function () { return Err(); },\r\n    inspect: function () { return \"Nothing\"; },\r\n    isNothing: function () { return true; },\r\n    isJust: function () { return false; },\r\n    value: function () { return undefined; }\r\n});\r\nvar nullable = function (arg) {\r\n    return arg === null || arg === undefined\r\n        ? Nothing\r\n        : Just(arg);\r\n};\n\nvar encase = function (func) {\r\n    try {\r\n        return Just(func());\r\n    }\r\n    catch (_a) {\r\n        return Nothing;\r\n    }\r\n};\r\nvar encaseRes = function (func) {\r\n    try {\r\n        return Ok(func());\r\n    }\r\n    catch (e) {\r\n        return Err(e);\r\n    }\r\n};\n\nvar get = function (selector) { return function (data) {\r\n    return selector.reduce(function (acc, s) { return acc.chain(function (d) { return nullable(d[s]); }); }, nullable(data));\r\n}; };\n\nvar head = function (arr) { return arr.length\r\n    ? Just(arr[0])\r\n    : Nothing; };\n\n// justs: takes an array of maybes and filters out any non-just types\r\nvar justs = function (arr) {\r\n    if (arr === void 0) { arr = []; }\r\n    return arr.filter(function (a) { return a.isJust(); });\r\n};\n\nvar last = function (arr) { return arr.length\r\n    ? Just(arr[arr.length - 1])\r\n    : Nothing; };\n\n// oks: takes an array of Results and filters out any non-ok types\r\nvar oks = function (arr) {\r\n    if (arr === void 0) { arr = []; }\r\n    return arr.filter(function (a) { return a.isOk(); });\r\n};\n\nvar parseDate = function (date) {\r\n    return nullable(date)\r\n        .map(function (d) { return new Date(d); })\r\n        .chain(function (d) { return isNaN(d.valueOf()) ? Nothing : Just(d); });\r\n};\n\nvar tail = function (arr) { return arr.length\r\n    ? Just(arr.slice(1))\r\n    : Nothing; };\n\nvar tryFind = function (exp) { return function (data) {\r\n    return nullable(data.find(exp));\r\n}; };\n\nexports.Err = Err;\nexports.Just = Just;\nexports.Nothing = Nothing;\nexports.Ok = Ok;\nexports.encase = encase;\nexports.encaseRes = encaseRes;\nexports.get = get;\nexports.head = head;\nexports.justs = justs;\nexports.last = last;\nexports.nullable = nullable;\nexports.oks = oks;\nexports.parseDate = parseDate;\nexports.tail = tail;\nexports.tryFind = tryFind;\n\n\n//# sourceURL=webpack://thing/./node_modules/pratica/dist/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./build/ts/main.js");
/******/ 	
/******/ })()
;